<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
//    var num =3; //6
//    var obj = {
//        num : 2,
//        fn : (function () {
//            this.num *= 2; // window
//            num +=3;
//            var num =1;
//            return function () {
//                num +=3;
//                this.num +=2// window  // obj
//                console.log(++num)
//            }
//        })()
//    };
//    var f= obj.fn;
//    f();//5
//    obj.fn();//9
//    console.log(window.num,obj.num) // 8 4



    var num = 1; // 3 -> 5
    var obj = {num: 2}; // 4
    obj.fn = (function (num) { // 1
        this.num += 2;
        num--;
        return function (n) {
            this.num += 2;
            num--;
            console.log(n + ++num);
        }
    })(this.num);
    console.log(this); // window
    var fn = obj.fn;
    fn(1); // 1
    obj.fn(2); // 2
    console.log(num, obj.num); // 5 4











//    var num = 5;
//    var obj = {
//        num: 4,
//        fn: (function (num) {
//            num++;
//            this.num++;
//            var num = 2;
//            return function () {
//                num++;
//                this.num++;
//                console.log(num);
//            }
//        })()
//    };
//    var fn = obj.fn;
//    fn();
//    obj.fn();
//    console.log(this.num, obj.num);
</script>
</body>
</html>