{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*String.prototype*/ ;\r\n~ function(pro) {\r\n\tfunction queryURLParameter() {\r\n\t\t//?a=1&b=2&c=3\r\n\t\tvar reg = /([^?=&#]+)=([^?=&#]+)/g;\r\n\t\tvar obj = {};\r\n\t\tthis.replace(reg, function() {\r\n\t\t\tobj[arguments[1]] = arguments[2];\r\n\t\t});\r\n\t\treturn obj\r\n\t}\r\n\tpro.queryURLParameter = queryURLParameter;\r\n}(String.prototype);\r\n/*loading显示 单利模式*/\r\nvar loadingRender = (function() {\r\n\tvar ary = [\"icon.png\", \"zf_concatAddress.png\", \"zf_concatInfo.png\", \"zf_concatPhone.png\", \"zf_course.png\", \"zf_course1.png\", \"zf_course2.png\", \"zf_course3.png\", \"zf_course4.png\", \"zf_course5.png\", \"zf_course6.png\", \"zf_cube1.png\", \"zf_cube2.png\", \"zf_cube3.png\", \"zf_cube4.png\", \"zf_cube5.png\", \"zf_cube6.png\", \"zf_cubeBg.jpg\", \"zf_cubeTip.png\", \"zf_emploment.png\", \"zf_messageArrow1.png\", \"zf_messageArrow2.png\", \"zf_messageChat.png\", \"zf_messageKeyboard.png\", \"zf_messageLogo.png\", \"zf_messageStudent.png\", \"zf_outline.png\", \"zf_phoneBg.jpg\", \"zf_phoneDetail.png\", \"zf_phoneListen.png\", \"zf_phoneLogo.png\", \"zf_return.png\", \"zf_style1.jpg\", \"zf_style2.jpg\", \"zf_style3.jpg\", \"zf_styleTip1.png\", \"zf_styleTip2.png\", \"zf_teacher1.png\", \"zf_teacher2.png\", \"zf_teacher3.jpg\", \"zf_teacher4.png\", \"zf_teacher5.png\", \"zf_teacher6.png\", \"zf_teacherTip.png\"];\r\n\r\n\t//获取当前区域中所需要的元素\r\n\tvar $loading = $('#loading');\r\n\tvar $progressBox = $loading.find(\".progressBox\");\r\n\tvar step = 0;\r\n\tvar total = ary.length;\r\n\r\n\treturn {\r\n\t\tinit: function() {\r\n\t\t\t$loading.css(\"display\", \"block\");\r\n\t\t\t//循环加载所有的图片控制进度条的宽度\r\n\t\t\t$.each(ary, function(index, item) {\r\n\t\t\t\tvar oImg = new Image;\r\n\t\t\t\toImg.src = \"img/\" + item;\r\n\t\t\t\toImg.onload = function() {\r\n\t\t\t\t\tstep++;\r\n\t\t\t\t\t$progressBox.css(\"width\", step / total * 100 + \"%\");\r\n\t\t\t\t\t//当图片都加载完成，进度条也就完成了，关闭当前loading页面，显示phone页面\r\n\t\t\t\t\tif(step == total) {\r\n\t\t\t\t\t\t//方便开发或者是浏览当前页 当page=0就只是想显示当前loading页面，不想跳转\r\n\t\t\t\t\t\tif(page === 0) return;\r\n\t\t\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t\t\t$loading.css(\"display\", \"none\");\r\n\t\t\t\t\t\t\tphoneRender.init();\r\n\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})()\r\n\r\n/*phone显示 单例模式*/\r\nvar phoneRender = (function() {\r\n\tvar $phone = $(\"#phone\"),\r\n\t\t$listen = $phone.children(\".listen\"),\r\n\t\t$listenTouch = $listen.children(\".touch\"),\r\n\t\t$detail = $phone.children(\".details\"),\r\n\t\t$detailTouch = $detail.children(\".touch\"),\r\n\t\t$time = $phone.children(\".time\");\r\n\tvar listenMusic = $(\"#listenMusic\")[0],\r\n\t\tdetailsMusic = $(\"#detailsMusic\")[0],\r\n\t\tmusicTimer = null;\r\n\t//播放自我介绍的音频，并且计算时间（真实音频的播放进度detailsMusic.currentTime 这个方法就是表示当前播放的进度，单位是秒s）\r\n\tfunction detailMusicPlay() {\r\n\t\tdetailsMusic.play();\r\n\t\tmusicTimer = window.setInterval(function() {\r\n\t\t\tvar curTime = detailsMusic.currentTime,\r\n\t\t\t\tminute = Math.floor(curTime / 60),\r\n\t\t\t\tsecond = Math.floor(curTime - minute * 60);\r\n\t\t\tminute < 10 ? minute = \"0\" + minute : null;\r\n\t\t\tsecond < 10 ? second = \"0\" + second : null;\r\n\t\t\t$time.html(minute + \":\" + second);\r\n\t\t\t//当音频播放完成，关闭当前phone页面，打开message页面\r\n\t\t\t//detailsMusic.duration 这个音频的总时间\r\n\t\t\tif(curTime === detailsMusic.duration) {\r\n\t\t\t\twindow.clearInterval(musicTimer);\r\n\t\t\t\tclosePhone();\r\n\t\t\t}\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\tfunction closePhone() {\r\n\t\tdetailsMusic.pause();\r\n\t\tif(page==1)return;\r\n\t\t$phone.css(\"transform\", \"translateY(\" + document.documentElement.clientHeight + \"px)\").on(\"webkitTransitionEnd\", function() {\r\n\t\t\t//当过渡完成之后触发该时间\r\n\t\t\t$phone.css(\"display\", \"none\");\r\n\t\t});\r\n\t\tmessageRender.init();\r\n\t}\r\n\r\n\treturn {\r\n\t\tinit: function() {\r\n\t\t\t$phone.css(\"display\", \"block\");\r\n\t\t\tlistenMusic.play();\r\n\t\t\t//给listenTouch绑定接听事件，在移动端事件中click会有300ms的延迟 我们可以用移动端专门的原生事件 touchstart touchmove  touchend来进行模拟，zepto中给你做了处理封装好了一个方法 singleTap（单击事件）\r\n\t\t\t$listenTouch.singleTap(function() {\r\n\t\t\t\tconsole.log(1)\r\n\t\t\t\t$listen.css(\"display\", \"none\");\r\n\t\t\t\tlistenMusic.pause(); //停止音频播放\r\n\t\t\t\t$detail.css(\"transform\", \"translateY(0)\");\r\n\t\t\t\t$time.css(\"display\", \"block\");\r\n\t\t\t\tdetailMusicPlay();\r\n\t\t\t});\r\n\t\t\t$detailTouch.singleTap(closePhone)\r\n\t\t}\r\n\t}\r\n})()\r\n\r\n/*message显示 单例模式*/\r\nvar messageRender = (function() {\r\n\tvar $message = $(\"#message\"),\r\n\t\t$messageList = $(\".messageList\"),\r\n\t\t$list = $messageList.children(\"li\"),\r\n\t\t$keyBoard = $message.children(\".keyBoard\"),\r\n\t\t$textTip = $keyBoard.children(\".textTip\"),\r\n\t\t$submit = $keyBoard.children(\".submit\");\r\n\tvar autoTimer = null,\r\n\t\tstep = -1,\r\n\t\ttotal = $list.length,\r\n\t\tbounceTop = 0;\r\n\tvar messageMusic = $(\"#messageMusic\")[0];\r\n\t//消息列表的发送\r\n\tfunction messageMove() {\r\n\t\tautoTimer = window.setInterval(function() {\r\n\t\t\tstep++;\r\n\t\t\tvar $cur = $list.eq(step);\r\n\t\t\t$cur.css({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttransform: \"translateY(0)\"\r\n\t\t\t});\r\n\t\t\t//显示到第三个消息的时候，让键盘显示,消息停止发送\r\n\t\t\tif(step == 2) {\r\n\t\t\t\twindow.clearInterval(autoTimer);\r\n\t\t\t\t$keyBoard.css(\"transform\", \"translateY(0)\");\r\n\t\t\t\t$textTip.css(\"display\", \"block\");\r\n\t\t\t\ttextMove();\r\n\t\t\t}\r\n\t\t\t//从第四条消息开始，整个消息框整体上移\r\n\t\t\tif(step >= 3) {\r\n\t\t\t\tbounceTop -= $cur[0].offsetHeight + 10;\r\n\t\t\t\t$messageList.css(\"transform\", \"translateY(\" + bounceTop + \"px)\")\r\n\t\t\t}\r\n\t\t\t//当消息发送完成\r\n\t\t\tconsole.log(step, total - 1)\r\n\t\t\tif(step == total - 1) {\r\n\t\t\t\twindow.clearInterval(autoTimer);\r\n\t\t\t\tif(page == 2) return;\r\n\t\t\t\t$message.css(\"display\", \"none\");\r\n\t\t\t\tmessageMusic.pause();\r\n\t\t\t\tcubeRender.init();\r\n\t\t\t}\r\n\t\t}, 1500)\r\n\t}\r\n\t//textMove实现文字打印效果\r\n\tfunction textMove() {\r\n\t\tvar text = \"都学会了！ 可还是找不到工作呀！\",\r\n\t\t\tn = -1,\r\n\t\t\tresult = \"\";\r\n\t\tvar textTimer = window.setInterval(function() {\r\n\t\t\tn++;\r\n\t\t\tresult += text[n];\r\n\t\t\t$textTip.html(result);\r\n\t\t\tif(n == text.length - 1) {\r\n\t\t\t\twindow.clearInterval(textTimer);\r\n\t\t\t\t//输入完成后显示发送按钮submit,绑定单击事件\r\n\t\t\t\t$submit.css(\"display\", \"block\").singleTap(function() {\r\n\t\t\t\t\t$textTip.css(\"display\", \"none\");\r\n\t\t\t\t\t$keyBoard.css(\"transform\", \"translateY(3.7rem)\");\r\n\t\t\t\t\tmessageMove();\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}, 200)\r\n\t}\r\n\treturn {\r\n\t\tinit: function() {\r\n\t\t\t$message.css(\"display\", \"block\");\r\n\t\t\tmessageMove();\r\n\t\t\tmessageMusic.play();\r\n\t\t}\r\n\t}\r\n})()\r\n\r\n/*cube显示 单例模式*/\r\nvar cubeRender = (function() {\r\n\tvar $cube = $(\"#cube\"),\r\n\t\t$cubeBox = $cube.children(\".cubeBox\"),\r\n\t\t$cubeBoxLis = $cubeBox.children(\"li\");\r\n\t//处理移动端滑屏事件\r\n\tfunction isSwipe(changeX, changeY) {\r\n\t\treturn Math.abs(changeX) > 30 || Math.abs(changeY) > 30;\r\n\t}\r\n\r\n\tfunction start(e) {\r\n\t\t//touchstart,记录当前一个指头的信息，e是事件对象，touch事件类型的中，事件对象e中有个属性touches表示在屏幕上所有的指头信息，这里只选取一个touchs[0],记录一下当前的clientX，clientY\r\n\t\tvar point = e.touches[0];\r\n\t\t$(this).attr({\r\n\t\t\tstrX: point.clientX,\r\n\t\t\tstrY: point.clientY,\r\n\t\t\tchangeX: 0,\r\n\t\t\tchangeY: 0\r\n\t\t})\r\n\t};\r\n\r\n\tfunction move(e) {\r\n\t\t//在屏幕上滑动的时候记录changeX，changeY\r\n\t\tvar point = e.touches[0];\r\n\t\tvar changeX = point.clientX - $(this).attr(\"strX\"),\r\n\t\t\tchangeY = point.clientY - $(this).attr(\"strY\");\r\n\t\t$(this).attr({\r\n\t\t\tchangeX: changeX,\r\n\t\t\tchangeY: changeY\r\n\t\t})\r\n\t};\r\n\r\n\tfunction end(e) {\r\n\t\t//指头离开屏幕的时候，根据你滑动的距离，让cubeBox旋转一定的角度\r\n\t\t//attr这个方法获取出来的属性值都是字符串\r\n\t\tvar changeX = parseFloat($(this).attr(\"changeX\")),\r\n\t\t\tchangeY = parseFloat($(this).attr(\"changeY\"));\r\n\t\tvar rotateX = parseFloat($(this).attr(\"rotateX\")),\r\n\t\t\trotateY = parseFloat($(this).attr(\"rotateY\"));\r\n\t\t//判断，如果changeX。changeY没有大于30的，就不让魔法转动了\r\n\t\tif(!isSwipe(changeX, changeY)) return;\r\n\t\trotateX = rotateX - changeY / 3;\r\n\t\trotateY = rotateY + changeX / 3;\r\n\r\n\t\t$(this).attr({\r\n\t\t\trotateX: rotateX,\r\n\t\t\trotateY: rotateY\r\n\t\t}).css(\"transform\", \"scale(0.6) rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg)\");\r\n\t};\r\n\treturn {\r\n\t\tinit: function() {\r\n\t\t\t$cube.css(\"display\", \"block\");\r\n\t\t\t//记录初始旋转的角度\r\n\t\t\t$cubeBox.attr({\r\n\t\t\t\trotateX: -30,\r\n\t\t\t\trotateY: 45\r\n\t\t\t}).on(\"touchstart\", start).on(\"touchmove\", move).on(\"touchend\", end)\r\n\t\t\t//给魔方的每个面绑定单击事件\r\n\t\t\t$cubeBoxLis.singleTap(function() {\r\n\t\t\t\t$cube.css(\"display\", \"none\");\r\n\t\t\t\tswiperRender.init($(this).index());\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t}\r\n})()\r\n\r\n/*swiper显示 单例模式*/\r\nvar swiperRender = (function() {\r\n\tvar $swiper = $(\"#swiper\"),\r\n\t\t$makisu = $(\"#makisu\"),\r\n\t\t$return = $swiper.children(\".return\");\r\n\r\n\tfunction change(example) {\r\n\t\t//只要当前切换的操作结束（不管是切换到下一个区域或者是→切回本区域都会触发swiper中内置的一个css3的过渡动画效果）同样也会触发onTransitionEnd这个回调函数\r\n\t\t//example：是当前创建的这个sweiper的一个实例\r\n\t\t//example.slides:这里记录了所有的slide切换的块；\r\n\t\t//example.activeIndex:记录当前正在展示的块的索引\r\n\t\tvar slidesAry = example.slides;\r\n\t\t//当example.activeIndex===0就是折叠效果展示的时候\r\n\t\tif(example.activeIndex === 0) {\r\n\t\t\t$makisu.makisu({\r\n\t\t\t\tselector: \"dd\",\r\n\t\t\t\toverlap: 0.6,\r\n\t\t\t\tspeed: 0.8\r\n\t\t\t});\r\n\t\t\t//展开\r\n\t\t\t$makisu.makisu(\"open\")\r\n\t\t} else {\r\n\t\t\t$makisu.makisu({\r\n\t\t\t\tselector: \"dd\",\r\n\t\t\t\toverlap: 0.6,\r\n\t\t\t\tspeed: 0\r\n\t\t\t});\r\n\t\t\t//收起来\r\n\t\t\t$makisu.makisu(\"close\")\r\n\t\t}\r\n\r\n\t\t$.each(slidesAry, function(index, item) {\r\n\t\t\tif(index == example.activeIndex) {\r\n\t\t\t\titem.id = \"page\" + (index + 1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\titem.id = null;\r\n\t\t})\r\n\t}\r\n\treturn {\r\n\t\tinit: function(index) {\r\n\t\t\t$swiper.css(\"display\", \"block\");\r\n\t\t\t//初始化swiper实现六个面之间的切换\r\n\t\t\tvar mySwiper = new Swiper(\".swiper-container\", {\r\n\t\t\t\teffect: \"coverflow\",\r\n\t\t\t\tonTransitionEnd: change,\r\n\t\t\t\tonInit: change\r\n\t\t\t});\r\n\t\t\t//可以手动控制展示的页面\r\n\t\t\tindex = index || 0;\r\n\t\t\tmySwiper.slideTo(index, 0);\r\n\t\t\t//给return绑定单击事件\r\n\t\t\t$return.singleTap(function(){\r\n\t\t\t\t$swiper.css(\"display\",\"none\");\r\n\t\t\t\t$(\"#cube\").css(\"display\",\"block\");\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})()\r\n\r\n/*控制哪个page页显示*/\r\nvar urlObj = window.location.href.queryURLParameter();\r\nvar page = parseFloat(urlObj[\"page\"]);\r\npage === 0 || isNaN(page) ? loadingRender.init() : null;\r\npage === 1 ? phoneRender.init() : null;\r\npage === 2 ? messageRender.init() : null;\r\npage === 3 ? cubeRender.init() : null;\r\npage === 4 ? swiperRender.init() : null"]}