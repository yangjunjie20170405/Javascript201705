{"version":3,"sources":["table.js"],"names":[],"mappings":"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","file":"table-compiled.js","sourcesContent":["//思路 ：１）获取所有要操作的对象\n       // 2)拉取数据，ajax\n        // 3) 绑定数据（循环->创建元素标签tr -> 创建四个td->td赋值->放到tr中 ->tr放到文档碎片中->frg放进tbody中）\n        // 4) 隔行变色 （奇偶行->取模%->改变类名）\n        // 5)给表头th绑定点击事件，点击的时候执行sortList（参数）方法\n       // 6)sortList 方法  （类数组转数组-》数组排序->数字和汉字区分-> 重新添加到页面中）\n\n//tHead  : 获取表头\n// rows  : 获取行\n// cells  : 获取表格中某一行的列\n// tBodies[0]  : 获取表格中第一个tBody\nvar oTab = document.getElementById(\"tab\");\nvar tHead = oTab.tHead;\nvar oThs = tHead.rows[0].cells;\nvar tBody = oTab.tBodies[0];\nvar rows = tBody.rows;// 获取tbody中的所有行\nvar data = null;\n\n// 获取数据 ajax    async Javascript and xml\n\n// 1、 创建一个ajax的对象\n// var xhr = new XMLHttpRequest();\n// //2、打开文件\n// xhr.open(\"get\",\"./data.txt\",false);\n// //3 、监听\n// xhr.onreadystatechange = function () {\n//     if(xhr.readyState == 4 && xhr.status == 200){\n//         data =utils.toJSON(xhr.responseText);\n//     }\n// };\n\n// 4、发送请求\n// xhr.send();\nvar data=[\n    {\"name\":\"武松\",\"age\":35,\"hurt\":105,\"sex\":1},\n    {\"name\":\"李逵\",\"age\":32,\"hurt\":125,\"sex\":1},\n    {\"name\":\"林冲\",\"age\":30,\"hurt\":149,\"sex\":1},\n    {\"name\":\"鲁智深\",\"age\":31,\"hurt\":120,\"sex\":1},\n    {\"name\":\"孙二娘\",\"age\":26,\"hurt\":110,\"sex\":0}\n];\nfunction bindData(){\n    var frg = document.createDocumentFragment();\n    for(var i=0;i<data.length;i++){\n        var cur = data[i];//{\"name\":\"武松\",\"age\":35,\"hurt\":105,\"sex\":1}\n        var oTr = document.createElement(\"tr\");\n        for(var key in cur){\n            var oTd = document.createElement(\"td\");\n            if(key == \"sex\"){\n                if(cur[key]== 1){\n                    oTd.innerHTML = \"男\";\n                }else{\n                    oTd.innerHTML =\"女\";\n                }\n            }else{\n                oTd.innerHTML = cur[key];\n            }\n            oTr.appendChild(oTd);\n        };\n        frg.appendChild(oTr)\n    };\n    tBody.appendChild(frg);\n    frg =null;\n};\nbindData();\nfunction changeBg() {\n    for(var i=0;i<rows.length;i++){\n        // rows[i].className = null;\n        i%2 == 0 ? rows[i].className = \"even\" : rows[i].className = null;\n    }\n}\nchangeBg();\n// 通过点击列的索引进行排序\nfunction sortList(index) {\n    var _this = this;\n    for(var j =0;j<oThs.length;j++){\n        j!==index ?oThs[j].flag =-1:null;\n    };\n    // debugger\n    _this.flag *=-1;\n    var ary = utils.toArray(rows);\n    ary.sort(function (a,b) {\n        var aContent = a.cells[index].innerHTML;\n        var bContent = b.cells[index].innerHTML;\n         if(index !==0){\n             var cur = parseFloat(aContent);\n             var nexCur = parseFloat(bContent);\n             return (cur -nexCur)*_this.flag;\n         }else{\n             return (aContent.localeCompare(bContent))*_this.flag;\n         }\n    });\n    // if(this.flag == \"asc\"){\n    //     ary.reverse();\n    //     this.flag = \"desc\"\n    // }else{\n    //     this.flag = \"asc\";\n    // };\n    // console.log(ary)\n    for(var i=0;i<ary.length;i++){\n        tBody.appendChild(ary[i])\n    }\n    changeBg();\n}\n// debugger\n// 给表头绑定点击排序事件\nfor(var i=0;i<oThs.length;i++){\n    oThs[i].index = i;\n    oThs[i].flag= -1;\n    if(oThs[i].className == \"cursor\"){\n        oThs[i].onclick = function () {\n            sortList.call(this,this.index);\n        }\n    }\n}\n\n\n\n\n\n"]}