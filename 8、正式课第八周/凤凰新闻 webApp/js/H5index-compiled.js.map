{"version":3,"sources":["H5index.js"],"names":[],"mappings":"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","file":"H5index-compiled.js","sourcesContent":["//rem 动态计算根元素的字体大小\r\nfunction refreshRem(){\r\n    var dewS=750,\r\n        winW=document.documentElement.clientWidth,\r\n        ratio=winW/dewS;\r\n    document.documentElement.style.fontSize =ratio*100+'px'\r\n}\r\nrefreshRem();\r\nwindow.addEventListener('resize',refreshRem,false);\r\n\r\n//时间 取的几月几号的时间\r\nfunction changeTime(time){\r\n    if(time){\r\n        var str=time;\r\n        var str1 =str.substr(5,2);\r\n        var str2 =str.substr(8,2);\r\n        return str=str1+'-'+str2;\r\n    }\r\n}\r\n\r\n\r\n\r\n//第二步:通过ajax获取我们需要的数据\r\n$.ajax({\r\n    url:'http://api.iclient.ifeng.com/ClientNews?id=SYLB10,SYDT10&gv=5.4.0&os=ios&uid=8jWzrXDWQeep2Nw4AZYzmHxkbneHy4Fj',\r\n    type:'get',\r\n    dataType:'jsonp',\r\n    callback:'jsonp',\r\n    success:bindHtml\r\n});\r\n\r\nfunction bindHtml(data){\r\n    console.log(data);//list focus\r\n    for(var i=0;i<data.length;i++){\r\n        if(data[i].type=='list'){\r\n            listData=data[i].item;\r\n        }else{\r\n            focusData=data[i].item;\r\n        }\r\n    }\r\n    console.log(focusData); //3\r\n    console.log(listData); //20\r\n\r\n    //ejs第四步 ejs.render 把模板的html结构 模板的数据以及ajax获取到的数据渲染到页面中\r\n    var focusHTML=$('#focusTemplate').html();\r\n    var result=ejs.render(focusHTML,{data:focusData});\r\n    console.log(result);\r\n    $('.swiper-wrapper').html(result);\r\n\r\n    //中间内容的第四步：\r\n    //ejs.render(模板的html结构,{模板的数据名称:ajax获取的内容部分的数据})\r\n    var listHTML=$('#listTemplate').html();\r\n    var listResult=ejs.render(listHTML,{dataList:listData});\r\n    //console.log(listResult); //20\r\n    $('.col').html(listResult);\r\n\r\n    //swiper\r\n    var mySwiper=new Swiper('.swiper-container',{\r\n//    参数配置\r\n        pagination:'.swiper-pagination',\r\n        //分页器默认是小圆点  fraction 分式\r\n        paginationType:'fraction',\r\n        //无缝循环滚动\r\n        loop:true,\r\n        //自动切换\r\n        autoplay:2000,\r\n        //用户操作会autoplay失效 重新开启自动轮播的效果\r\n        autoplayDisableOnInteraction:false,\r\n        //阻止touch的冒泡事件\r\n        touchMoveStopPropagation:false\r\n    });\r\n}\r\n\r\n\r\n//上拉刷新 下拉加载\r\nvar myScroll,\r\n    pullDownEl, pullDownOffset,\r\n    pullUpEl, pullUpOffset,\r\n    generatedCount = 0;\r\n\r\n//下拉刷新\r\nfunction pullDownAction() {\r\n    console.log('我是下拉刷新的文字内容');\r\n}\r\n\r\n//上推加载\r\nfunction pullUpAction() {\r\n    console.log('我是上推加载的文字内容');\r\n}\r\n\r\n//初始化绑定iScroll控件\r\n//解决卡顿\r\ndocument.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);\r\ndocument.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);\r\n\r\n\r\nfunction loaded() {\r\n    pullDownEl = document.getElementById('pullDown');\r\n    pullDownOffset = pullDownEl.offsetHeight;\r\n    pullUpEl = document.getElementById('pullUp');\r\n    pullUpOffset = pullUpEl.offsetHeight;\r\n\r\n    /**\r\n     * 初始化iScroll控件\r\n     * onRefresh\r\n     * onScrollMove\r\n     * onScrollEnd\r\n     */\r\n    myScroll = new iScroll('wrapper', {\r\n        vScrollbar: false,\r\n        topOffset: pullDownOffset,\r\n/*        useTransition: false,\r\n        hScrollbar:true,\r\n        lockDirection:true,\r\n        hScroll:true,\r\n        momentum:true,*/\r\n        checkDOMChanges:true, //监听数据变化\r\n        onRefresh: function () {\r\n            if (pullDownEl.className.match('loading')) {\r\n                pullDownEl.className = '';\r\n                pullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新...';\r\n            } else if (pullUpEl.className.match('loading')) {\r\n                pullUpEl.className = '';\r\n                pullUpEl.querySelector('.pullUpLabel').innerHTML = '上拉加载更多...';\r\n            }\r\n        },\r\n        onScrollMove: function () {\r\n            if (this.y > 5 && !pullDownEl.className.match('flip')) {\r\n                pullDownEl.className = 'flip';\r\n                pullDownEl.querySelector('.pullDownLabel').innerHTML = '松手开始更新...';\r\n                this.minScrollY = 0;\r\n            } else if (this.y < (this.maxScrollY - 5) && !pullUpEl.className.match('flip')) {\r\n                pullUpEl.className = 'flip';\r\n                pullUpEl.querySelector('.pullUpLabel').innerHTML = '松手开始更新...';\r\n            }\r\n        },\r\n        onScrollEnd: function () {\r\n            if (pullDownEl.className.match('flip')) {\r\n                pullDownEl.className = 'loading';\r\n                pullDownEl.querySelector('.pullDownLabel').innerHTML = '加载中...';\r\n                pullDownAction();\r\n            } else if (pullUpEl.className.match('flip')) {\r\n                pullUpEl.className = 'loading';\r\n                pullUpEl.querySelector('.pullUpLabel').innerHTML = '加载中...';\r\n                pullUpAction();\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]}